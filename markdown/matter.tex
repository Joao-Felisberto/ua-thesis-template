%%!TEX encoding = UTF-8 Unicode

% PLEASE NOTE: This file is a template, please do not change it unless you are sure of what you are doing


% Several lines in file have comments suggesting common packages for the
% typical thesis in informatics or electronics developed at UA
% uncomment/comment the lines as required for your work
% Before each optional line you will have a small comment

% According to UA rules, font size should range from 10 to 12pt.
\documentclass[11pt,a4paper,openright,twoside,onecolumn]{memoir}

\listfiles
\fixpdflayout

\usepackage[utf8]{inputenc}

% Select Computer Modern Typewritter (For bold ttfamily in listings)
\usepackage{lmodern}
% OR... Bera Mono
%\usepackage[scaled]{beramono} % TTT Font
%\usepackage{anyfontsize} % As the name says...

\usepackage[T1]{fontenc}

% Enable for for Overleaf support
\usepackage{ifthen}
\def\useoverleaf{0}  % change to non-zero (for instance, 1) to enable it

\makeatletter
\newcommand{\makecoverfile}[0]{%
  \immediate\write18{latexmk -pdf cover.tex}%
}
\makeatother

% For PDF merging
\usepackage{pdfpages}

% Set DPI to 300
\pdfpxdimen=\dimexpr 1in/300\relax

% Allow the use of a larger number of packages
\usepackage{morewrites} 

% For English and Portuguese languages
% Portuguese will be the default.
% Uncomment \setlanguage below to change it
\usepackage[english,portuguese]{babel}

% Uncomment to use a custom date format

% Make pdf look better
\usepackage{microtype} 

% Uncomment to enable floats on facing pages

% Side by side figures
% Eg. Fig 1a, Fig 1b
\usepackage[hang,small,bf]{caption}
%\let\tion\undefined
%\let\subfloat\undefined
\usepackage{subcaption}

%\RequirePackage{textcase}

% Dropped Caps
%\usepackage{lettrine}

% Configure Hyperlink color
% Or use the default values provided by the hyperref package
\usepackage{hyperref}

% Redefine section names according to your preference
%\def\sectionautorefname{Section}
%\def\chapterautorefname{Chapter}
%\def\figureautorefname{Figure}
%\def\listingautorefname{Listing}
%\def\tableautorefname{Table}

% Redefine code boxes
\ifthenelse{\equal{\useoverleaf}{0}}
{\usepackage[outputdir=build]{minted}}
{\usepackage{minted}}%

\addto\captionsportuguese{%
  \renewcommand\listingscaption{Código}
}
\fvset{fontsize=\footnotesize} % Make Code blocks smaller than text
\usepackage{csquotes}

% Add support for PDF Comments
\usepackage{comment}
\ifthenelse{\equal{\useoverleaf}{0}}
{\usepackage{pdfcomment}}{}
\usepackage{bookmark} % New Bookmarks

% For Multiple columns in Glossary
\usepackage{multicol}

% Add support for Math symbols
\usepackage{amsmath}
\usepackage{amssymb}

% Add support for graphics
\usepackage{graphicx}

% Add support for Colors
\usepackage{xcolor}

% Add support for the Euro symbol
\usepackage{eurosym}

% Add support for missingfigure and todo
\usepackage{todonotes}

% Setup bibliography with Biber using IEEE style for proper UTF-8 support
\usepackage[backend=biber, style=ieee, sorting=none, natbib=true, mincitenames=1, maxcitenames=2]{biblatex}
\bibliography{bib/references.bib, bib/rfc.bib}

% Use acronyms
\usepackage[printonlyused]{acronym} % For acronyms

% Indenting the first paragraph after section start
\usepackage{indentfirst}

% For fixing listoflistings with memoir
\usepackage{xparse}

% Uncomment the next lines to enable chart support through pgf and tikz
% This may require you to install further packages in your Tex system
%\usepackage[version=0.96]{pgf}
%\usepackage{tikz}

% UML support
%\usepackage{pgf-umlsd}

% Trees, Arrows, Mindmaps and other popular objects
%\usetikzlibrary{arrows,shadows,trees,shapes,decorations,automata,backgrounds,petri,mindmap} % for pgf-umlsd

% Package to master SI units
\usepackage[detect-weight=true, binary-units=true]{siunitx}

% TODO: enable this section for configuration
% Set Voltage direction accordingly
% Option : oldvoltagedirection,nooldvoltagedirection,RPvoltages,EFvoltages
% More information at: https://mirrors.ibiblio.org/CTAN/graphics/pgf/contrib/circuitikz/doc/circuitikzmanual.pdf
% By default this template is using the Old Voltage Direction
%\usepackage[oldvoltagedirection,american,cuteinductors,smartlabels]{circuitikz}
%\usetikzlibrary{calc}
%\ctikzset{bipoles/thickness=1}
%\ctikzset{bipoles/length=0.8cm}
%\ctikzset{bipoles/diode/height=.375}
%\ctikzset{bipoles/diode/width=.3}
%\ctikzset{tripoles/thyristor/height=.8}
%\ctikzset{tripoles/thyristor/width=1}
%\ctikzset{bipoles/vsourceam/height/.initial=.7}
%\ctikzset{bipoles/vsourceam/width/.initial=.7}
%\tikzstyle{every node}=[font=\small]
%\tikzstyle{every path}=[line width=0.8pt,line cap=round,line join=round]

% For inline TT text (e.g. code snippets)
\usepackage{verbatim}

% Frames around figures and allow force placement
\usepackage{float}

% TODO: this
% Configure Float style
%\floatstyle{boxed}
%\restylefloat{table}
%\restylefloat{figure}
%\restylefloat{lstlisting}

% For test purposes you may use the lipsum package to create dummy text
% todo: can be cleaner?
\usepackage{lipsum} % REMOVE

%Keep floats inside section!
\usepackage[section]{placeins}
\let \oldsubsubsection \subsubsection
\renewcommand{\subsubsection}[2][]{
  \FloatBarrier
  \oldsubsubsection#1{#2}
}
\let \oldsubsection \subsection
\renewcommand{\subsection}[2][]{
  \FloatBarrier
  \oldsubsection#1{#2}
}
\let \oldsection \section
\renewcommand{\section}[2][]{
  \FloatBarrier
  \oldsection#1{#2}
}
\let \oldchapter \chapter
\renewcommand{\chapter}[2][]{
  \FloatBarrier
  \oldchapter#1{#2}
}

% TODO: evaluate if this is allowed
% Support longtabled from pandoc
\usepackage{longtable}

% Use the built-in division styling
\headstyles{memman}

% Include subsections in the TOC
\settocdepth{subsection}

% Numbering down to subsections as well
\setsecnumdepth{subsection}

% extra index for first lines
\makeindex[lines]

% Margins for University of Aveiro Thesis
\setlrmarginsandblock{3cm}{2.5cm}{*}
\setulmarginsandblock{3cm}{3cm}{*}
\checkandfixthelayout

% Or select your custom spacing to make any ajustment
%\addtolength{\parskip}{0.5\baselineskip}
\linespread{1.5}

\newcommand\mainmatterWithoutReset
{\edef\temppagenumber{\arabic{page}}%
  \mainmatter
  \setcounter{page}{\temppagenumber}%
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document begins here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\ifthenelse{\equal{\useoverleaf}{0}}{}{\makecoverfile{}}%
\includepdf[pages=-]{cover.pdf}


% Front matter

%Custom Chapter style named `thesis`
\makechapterstyle{thesis}{% Based on ell
  \chapterstyle{default}
  \renewcommand*{\chapnumfont}{\normalfont\sffamily}
  \renewcommand*{\chaptitlefont}{\normalfont\Huge\sffamily}
  \settowidth{\chapindent}{\chapnumfont 111}
  \renewcommand*{\chapterheadstart}{\begingroup
    \vspace*{\beforechapskip}%
    \begin{adjustwidth}{}{-\chapindent}%
    \hrulefill
    \smash{\rule{0.4pt}{15mm}}
    \end{adjustwidth}\endgroup}
  \renewcommand*{\printchaptername}{}
  \renewcommand*{\chapternamenum}{}
  \renewcommand*{\printchapternum}{%
    \begin{adjustwidth}{}{-\chapindent}
    \hfill
    \raisebox{10mm}[0pt][0pt]{\fontsize{30}{25}\selectfont\chapnumfont \thechapter}%
                              \hspace*{1em}
    \end{adjustwidth}\vspace*{-3.0\onelineskip}}
  \renewcommand*{\printchaptertitle}[1]{%
    \vskip\onelineskip
    \raggedleft {\chaptitlefont ##1}\par\nobreak\vskip 4\onelineskip}}


% Select chapter style from existing or select custom
%\chapterstyle{thesis} % Others: dowding, demo2, dash, chappell, brotherton, bianchi, ger, madsen, tatcher, veelo,indexes)
% thesis can also be used as defined previously
% Check the memoir documentation for the available themes
% Default is veelo
\chapterstyle{veelo}
\makeoddfoot{plain}{}{\thepage}{} % Added by André Zúquete to fix a page numbering issue on the veelo chapter style

% TODO: add this and make work with above
% If you feel adventurous you can also define all aspects of your theme
% Use either this input or the chapterstyle before
% \input{custom-theme.tex}

%Exclude sub figures from List of Figures

% Texts
\newenvironment{introduction}
{%
  \begin{minipage}{\textwidth}%
   \itshape%
}
{%
  \end{minipage}%
  \par\addvspace{2\baselineskip plus 0.2\baselineskip minus 0.2\baselineskip}%
}

% Select Page style
\pagestyle{plain}


\frontmatter

\tightlists
\midsloppy
\raggedbottom

\setcounter{tocdepth}{2} %subsections are added to the TOC
\setcounter{secnumdepth}{4} %subsubsections are numbered

% Initial document tables start here: TOC, LOF, LOT, Glossary
% Table of contents with slightly smaller font
\cleardoublepage
{\small\tableofcontents}

% List of figures with slightly smaller font
\cleardoublepage
{\small\listoffigures}

% List of tables with slightly smaller font
\cleardoublepage
{\small\listoftables}

% List of code snippets

% Fix for Listings with memoir

\RenewDocumentCommand \chapter { s O{#3} m }{%
  \FloatBarrier
  \IfValueTF{#1}  % if optional star is seen
    {\oldchapter*{#2}}
    {\oldchapter#1{#2}}
}

\renewcommand{\listingscaption}{Código}
\renewcommand{\listoflistingscaption}{Lista de Excertos de Código}
\cleardoublepage
{\small\listoflistings}
\addcontentsline{toc}{chapter}{\listoflistingscaption}

% Reset Chapters
\renewcommand{\chapter}[2][]{
  \FloatBarrier
  \oldchapter#1{#2}
}

% Print Glossary
% {\small\include{glossary}}

\chapter{Glossário}

\footnotesize
\SingleSpacing

\begin{multicols}{2}
\begin{acronym}[AAAAAA]

    \acro{ai}[AI]{Artificial Intelligence}
    \acro{pdf}[PDF]{Portable Document Format}

\end{acronym}
\end{multicols}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Main document starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mainmatter

% Line spacing: 1.5 pt 
\OnehalfSpacing

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Start of Thesis text 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Uncomment to add further chapters
%\include{chapters/chapter1}
%\include{chapter2}
%\include{chapter3}
%\include{chapter4}

\section{Test}

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Massa massa
ultricies mi quis hendrerit dolor magna. Scelerisque varius morbi enim
nunc faucibus a pellentesque sit amet. Id interdum velit laoreet id
donec. Fringilla urna porttitor rhoncus dolor purus non enim praesent.
Sapien eget mi proin sed libero enim sed. Eget velit aliquet sagittis id
consectetur. Cursus eget nunc scelerisque viverra mauris in aliquam.
Risus quis varius quam quisque id diam vel quam. Molestie nunc non
blandit massa enim nec dui. Urna et pharetra pharetra massa massa. Est
sit amet facilisis magna etiam. Eros in cursus turpis massa tincidunt.
Duis at consectetur lorem donec massa sapien faucibus et. Enim lobortis
scelerisque fermentum dui faucibus in ornare quam. Nulla facilisi morbi
tempus iaculis urna id volutpat lacus. Augue eget arcu dictum varius
duis at consectetur lorem donec. Sed augue lacus viverra vitae congue eu
consequat ac. Est placerat in egestas erat imperdiet sed euismod nisi.
In hendrerit gravida rutrum quisque non.

Bibendum enim facilisis gravida neque. Sed pulvinar proin gravida
hendrerit. Blandit volutpat maecenas volutpat blandit aliquam. Egestas
purus viverra accumsan in nisl. Tortor aliquam nulla facilisi cras
fermentum odio eu feugiat pretium. Et netus et malesuada fames ac
turpis. In nibh mauris cursus mattis molestie a. Nec feugiat in
fermentum posuere urna. Sed pulvinar proin gravida hendrerit lectus.
Eget egestas purus viverra accumsan in nisl nisi scelerisque eu. Gravida
dictum fusce ut placerat orci. Viverra vitae congue eu consequat ac.
Faucibus nisl tincidunt eget nullam non nisi. Sit amet aliquam id diam
maecenas ultricies mi. Integer eget aliquet nibh praesent tristique
magna. Neque volutpat ac tincidunt vitae semper quis lectus. Nibh
praesent tristique magna sit. Ornare arcu dui vivamus arcu felis
bibendum ut tristique et.

Elit eget gravida cum sociis natoque penatibus et magnis dis. Volutpat
consequat mauris nunc congue. A condimentum vitae sapien pellentesque.
Aliquam id diam maecenas ultricies. Odio tempor orci dapibus ultrices in
iaculis. Nisl suscipit adipiscing bibendum est ultricies integer. Sed id
semper risus in hendrerit gravida rutrum quisque. Vestibulum lorem sed
risus ultricies tristique nulla aliquet enim. Scelerisque eleifend donec
pretium vulputate sapien nec sagittis. Integer eget aliquet nibh
praesent tristique magna. Facilisi morbi tempus iaculis urna id. Ac
tortor vitae purus faucibus ornare. A cras semper auctor neque vitae
tempus. Diam quam nulla porttitor massa id neque aliquam vestibulum
morbi. Donec ultrices tincidunt arcu non sodales. Felis donec et odio
pellentesque diam volutpat commodo sed.

Turpis massa tincidunt dui ut ornare lectus sit amet. Id faucibus nisl
tincidunt eget nullam non. Mauris cursus mattis molestie a iaculis.
Risus pretium quam vulputate dignissim suspendisse in est. Platea
dictumst vestibulum rhoncus est pellentesque elit ullamcorper dignissim
cras. Elementum curabitur vitae nunc sed velit dignissim. Accumsan lacus
vel facilisis volutpat est velit egestas dui. Fermentum et sollicitudin
ac orci phasellus egestas tellus rutrum tellus. Tempor commodo
ullamcorper a lacus vestibulum sed. Nisi est sit amet facilisis magna
etiam tempor. Viverra ipsum nunc aliquet bibendum enim facilisis gravida
neque. Nec tincidunt praesent semper feugiat nibh sed pulvinar proin. Eu
scelerisque felis imperdiet proin fermentum leo vel orci porta. A erat
nam at lectus urna duis convallis convallis. Dictum at tempor commodo
ullamcorper a lacus. Proin libero nunc consequat interdum varius sit
amet. Risus commodo viverra maecenas accumsan lacus vel facilisis.
Pellentesque dignissim enim sit amet venenatis urna cursus eget. Egestas
sed sed risus pretium quam vulputate dignissim suspendisse in. At varius
vel pharetra vel turpis nunc eget lorem dolor.

Auctor eu augue ut lectus arcu bibendum at. Sed tempus urna et pharetra
pharetra massa. Fermentum dui faucibus in ornare quam viverra orci
sagittis. Velit aliquet sagittis id consectetur purus. Et ligula
ullamcorper malesuada proin libero. Viverra vitae congue eu consequat ac
felis. Proin sagittis nisl rhoncus mattis rhoncus urna neque viverra.
Pulvinar neque laoreet suspendisse interdum consectetur libero. Id neque
aliquam vestibulum morbi blandit cursus risus at. Ac tincidunt vitae
semper quis lectus nulla.

Id aliquet risus feugiat in. Tellus id interdum velit laoreet id donec
ultrices. Tortor condimentum lacinia quis vel eros. Fermentum et
sollicitudin ac orci phasellus egestas tellus rutrum. Cras adipiscing
enim eu turpis egestas pretium aenean pharetra. Nulla pellentesque
dignissim enim sit amet. Tincidunt praesent semper feugiat nibh sed
pulvinar proin gravida hendrerit. Diam quam nulla porttitor massa id
neque aliquam vestibulum morbi. Rhoncus mattis rhoncus urna neque
viverra justo nec ultrices dui. Nunc non blandit massa enim nec. Leo in
vitae turpis massa sed. Ut consequat semper viverra nam libero justo
laoreet sit amet. Vulputate ut pharetra sit amet aliquam id diam
maecenas ultricies.

Mattis molestie a iaculis at erat pellentesque adipiscing commodo.
Dictum non consectetur a erat nam at lectus. Odio tempor orci dapibus
ultrices in iaculis nunc. Quam elementum pulvinar etiam non quam lacus
suspendisse faucibus. Quam adipiscing vitae proin sagittis. Lorem ipsum
dolor sit amet consectetur. Risus nec feugiat in fermentum. Nunc eget
lorem dolor sed viverra ipsum nunc aliquet. Nec dui nunc mattis enim ut
tellus elementum sagittis vitae. Sed risus pretium quam vulputate
dignissim suspendisse. Urna molestie at elementum eu facilisis. Eget
gravida cum sociis natoque penatibus et magnis dis parturient. Odio
euismod lacinia at quis risus sed vulputate odio ut. Interdum
consectetur libero id faucibus nisl. Magna eget est lorem ipsum dolor
sit amet consectetur. Volutpat diam ut venenatis tellus in metus
vulputate eu scelerisque. Vulputate mi sit amet mauris commodo. Elit
pellentesque habitant morbi tristique senectus et. Sit amet massa vitae
tortor condimentum lacinia quis. Nisi porta lorem mollis aliquam ut
porttitor leo a.

Mi tempus imperdiet nulla malesuada pellentesque elit. Sit amet
facilisis magna etiam tempor orci eu. Tortor at auctor urna nunc. At
tellus at urna condimentum mattis pellentesque id. Gravida dictum fusce
ut placerat. Ac odio tempor orci dapibus ultrices in iaculis nunc. Leo
duis ut diam quam nulla porttitor. Vulputate mi sit amet mauris. Duis
convallis convallis tellus id interdum velit. Quam nulla porttitor massa
id neque aliquam vestibulum morbi. Nec ultrices dui sapien eget mi proin
sed libero. Sollicitudin ac orci phasellus egestas tellus rutrum tellus
pellentesque.

Nunc aliquet bibendum enim facilisis gravida neque convallis a. Lacinia
quis vel eros donec ac. Vel facilisis volutpat est velit. Faucibus
scelerisque eleifend donec pretium vulputate sapien nec sagittis
aliquam. Et netus et malesuada fames ac turpis egestas sed tempus. Massa
massa ultricies mi quis hendrerit dolor magna eget. Amet nisl purus in
mollis nunc sed id. Aenean pharetra magna ac placerat vestibulum lectus.
Ultrices sagittis orci a scelerisque. Enim sed faucibus turpis in eu mi
bibendum. Laoreet non curabitur gravida arcu. Mauris a diam maecenas sed
enim ut sem viverra aliquet. Nisl pretium fusce id velit ut tortor
pretium. Arcu bibendum at varius vel. Velit egestas dui id ornare arcu.
Eu lobortis elementum nibh tellus molestie nunc non. Sed blandit libero
volutpat sed cras ornare. Quam vulputate dignissim suspendisse in est
ante in.

Massa sed elementum tempus egestas. Ultrices tincidunt arcu non sodales
neque sodales ut. Turpis nunc eget lorem dolor sed viverra ipsum.
Maecenas accumsan lacus vel facilisis volutpat est. Ridiculus mus mauris
vitae ultricies leo integer. Ultrices gravida dictum fusce ut placerat
orci nulla. Sed velit dignissim sodales ut eu sem integer vitae. In
nulla posuere sollicitudin aliquam ultrices sagittis orci. Pulvinar
neque laoreet suspendisse interdum consectetur libero. Quis enim
lobortis scelerisque fermentum dui. Mattis vulputate enim nulla aliquet.
Mauris cursus mattis molestie a iaculis. Viverra suspendisse potenti
nullam ac tortor vitae. Bibendum at varius vel pharetra vel turpis.
Justo laoreet sit amet cursus sit amet dictum sit. Sit amet tellus cras
adipiscing enim eu turpis egestas. Amet commodo nulla facilisi nullam
vehicula ipsum a.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% End of Thesis text 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\backmatter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Print all used references
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begingroup
\renewcommand{\bibfont}{\footnotesize}
% Redefine References name to Portuguese
% Change if you are using english
\defbibheading{bibliography}[Referências]{
	\chapter{#1}
}
\SingleSpacing
\setlength\bibitemsep{8pt}
\printbibliography[heading=bibliography]
\endgroup


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Load appendix
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mainmatterWithoutReset
\appendix

% \include{appendix-a}
% \include{appendix-b}
% \include{appendix-c}

\end{document}
